var htw;htw={debug:!0};htw.interactiveMap=function(){var e=null;return{init:function(e){$(e).each(function(){var e=$(this)[0],t=e.id,n=e.map?$("#"+e.map):$("#map-1"),r=e.name,i=e.description||"No Description",s=e.special_icon_path||"no_icon_path",o=e.xOff,u=e.yOff,a=n.width()-o-16;bottom=n.height()-u+15;category=e.category||"placeholder",h1=$("<h1>"+r+"</h1>"),p=$("<p>"+i+"</p>"),arrow=$("<div/>",{"class":"hotspot-arrows"}),div=$("<div/>",{id:"hotspot-"+t,"data-id":t,"class":"hotspots "+category,style:"bottom:"+bottom+"px;right:"+a+"px"});div.append(h1);div.append(p);div.append(arrow);n.append(div)})},prepareHotspot:function(){$("#hotspot-prepare-dialog").fadeIn(100);$("#hotspot-confirm-dialog").fadeOut(50)},addHotspot:function(e){console.log(e);$.post("./rest/hotspots",e).success(function(e){var t=e,n=t.map?$(t.map):$("#map-1"),r=t.id,i=t.name,s=t.yOff,o=t.xOff,u=$("<div/>",{id:"hotspot-"+r,"data-id":r,"data-name":i,"class":"map-hotspot-anchor",style:"top:"+s+"px;left:"+o+"px"});n.append(u)}).fail(function(){htw.debug&&console.log("addHotspot:fail")}).error(function(e,t,n){alert(e.status);alert(n)})},removeHotspot:function(e){$.ajax("./rest/hotspots/"+e,{type:"DELETE"}).success(function(){$("#hotspot-"+e).remove();htw.debug&&console.log("removeHotspot:success")}).fail(function(){htw.debug&&console.log("removeHotspot:fail")}).error(function(e,t,n){htw.debug&&console.log("xhr status"+e.status);htw.debug&&console.log("thrown error"+n)})},hideHotspots:function(e){if(e==="")return;$(".hotspots."+e).each(function(){$(this).css("display","none")})},showHotspots:function(e){if(e==="")return;$(".hotspots."+e).each(function(){$(this).css("display","block")})}}}();