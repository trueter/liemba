var htw;htw={debug:!0};htw.interactiveMap=function(){return{init:function(e){$(e).each(function(){var e=$(this)[0];htw.interactiveMap.addHotspot(e)})},prepareHotspot:function(){$("#hotspot-prepare-dialog").fadeIn(100);$("#hotspot-confirm-dialog").fadeOut(50)},createHotspot:function(e){$.post("./rest/hotspots",e).success(function(e){htw.interactiveMap.addHotspot(e)}).fail(function(){htw.debug&&console.log("createHotspot:fail")}).error(function(e,t,n){alert(e.status);alert(n)});return!0},addHotspot:function(e){var t=e.id,n=$("#"+e.map),r=e.name,i=e.description,s=e.category,o=e.special_icon_path,u=e.xOff,a=e.yOff,f=n.width()-u-16,l=n.height()-a+15,c=$("<h1>"+r+"</h1>"),h=$("<p>"+i+"</p>"),p=$("<div/>",{"class":"hotspot-arrows"}),d=$("<div/>",{id:"hotspot-"+t,"data-id":t,"class":"hotspots "+s,style:"bottom:"+l+"px;right:"+f+"px;"});d.append(c);d.append(h);d.append(p);n.append(d)},removeHotspot:function(e){$.ajax("./rest/hotspots/"+e,{type:"DELETE"}).success(function(){$("#hotspot-"+e).remove();htw.debug&&console.log("removeHotspot:success")}).fail(function(){htw.debug&&console.log("removeHotspot:fail")}).error(function(e,t,n){htw.debug&&console.log("xhr status"+e.status);htw.debug&&console.log("thrown error"+n)})},hideHotspots:function(e){if(e==="")return;$(".hotspots."+e).each(function(){$(this).css("display","none")})},showHotspots:function(e){if(e==="")return;$(".hotspots."+e).each(function(){$(this).css("display","block")})}}}();